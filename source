local Library = {}

function Library:CreateWindow(titleText,prompt)
    local ModestLib = Instance.new("ScreenGui")
    local Window = Instance.new("Frame")
    local TitleFrame = Instance.new("Frame")
    local Title = Instance.new("TextLabel")
    local UIListLayout = Instance.new("UIListLayout")

    --[[  Check if ModestLib exists and Destroy it if it does  ]]
    pcall(function() if game:GetService("CoreGui").ModestLib then game:GetService("CoreGui").ModestLib:Destroy() else print('F'); end; end)
    --[[                                                       ]]
    
    
    getgenv().radiowaveswhyhaveidonethis = false
    if prompt then
        loadstring(game:HttpGet(('https://raw.githubusercontent.com/Xv3nm/TotemModestMenuLib/main/prompt')))()
        while not getgenv().radiowaveswhyhaveidonethis do
            wait(0.1)
        end
    else
        print('Prompt disabled, thank you for using my sexy ass lib.')
    end

    ModestLib.Name = "ModestLib"
    ModestLib.Parent = game:GetService("CoreGui")
    ModestLib.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    Window.Name = "Window"
    Window.Parent = ModestLib
    Window.BackgroundColor3 = Color3.fromRGB(11, 65, 106)
    Window.BackgroundTransparency = 0.100
    Window.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Window.BorderSizePixel = 3
    Window.Position = UDim2.new(0.0340346545, 0, 0.0375426635, 0)
    Window.Size = UDim2.new(0, 389, 0, 789)
    Window.Draggable = true
    Window.Active = true
    Window.Selectable = true

    TitleFrame.Name = "TitleFrame"
    TitleFrame.Parent = Window
    TitleFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TitleFrame.BackgroundTransparency = 1.000
    TitleFrame.Size = UDim2.new(0, 389, 0, 26)

    Title.Name = "Title"
    Title.Parent = TitleFrame
    Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Title.BackgroundTransparency = 1.000
    Title.BorderSizePixel = 0
    Title.Size = UDim2.new(0, 389, 0, 26)
    Title.Font = Enum.Font.GothamSemibold
    if titleText == "" then
        Title.Text = "Totem's Modest Menu Lib v0.2.3"
    else
        Title.Text = titleText or "Totem's Modest Menu Lib v0.2.3"
    end
    
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 16.000

    UIListLayout.Parent = Window
    UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

    local innards = {}

    function innards:Destroy()
        ModestLib:Destroy()
    end

    function innards:NewTab(name,danger)
        local Tab = Instance.new("Frame")
        local UIListLayout = Instance.new("UIListLayout")
        local Home = Instance.new("TextButton")
        local TextButton = Instance.new("TextButton")
        local TabImage = Instance.new("ImageLabel")
        local ReturnImage = Instance.new("ImageLabel")

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        if danger then
            TextButton.Text = "      "..name
        else
            TextButton.Text = "  "..name
        end
        TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextButton.TextSize = 16.000
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        
        TabImage.Name = "TabImage"
        TabImage.Parent = TextButton
        TabImage.BackgroundTransparency = 1
        TabImage.LayoutOrder = 10
        TabImage.AnchorPoint = Vector2.new(0.5, 0.5)
        TabImage.Position = UDim2.new(0.97, 0, 0.5, 0)
        TabImage.Size = UDim2.new(0, 25, 0, 25)
        TabImage.ZIndex = 2
        TabImage.Image = "rbxassetid://3926307971"
        TabImage.ImageRectOffset = Vector2.new(764, 244)
        TabImage.ImageRectSize = Vector2.new(36, 36)

        TextButton.MouseEnter:Connect(function()
            TextButton.BackgroundTransparency = 0
        end)
        
        TextButton.MouseLeave:Connect(function()
            TextButton.BackgroundTransparency = 1
        end)
        
        Tab.Name = name
        Tab.Parent = Window
        Tab.BackgroundColor3 = Color3.fromRGB(11, 65, 106)
        Tab.BackgroundTransparency = 1.000
        Tab.BorderColor3 = Color3.fromRGB(0, 0, 0)
        Tab.BorderSizePixel = 0
        Tab.Position = UDim2.new(0, 0, 0.0329531059, 0)
        Tab.Size = UDim2.new(1, 0, 0.00126742711, 762)
        Tab.Visible = false
        
        UIListLayout.Parent = Tab
        UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        
        Home.Parent = Tab
        Home.BackgroundColor3 = Color3.fromRGB(224,197,69)
        Home.BackgroundTransparency = 1.000
        Home.BorderSizePixel = 0
        Home.Size = UDim2.new(1, 0, 0.026, 0)
        Home.Font = Enum.Font.GothamSemibold
        Home.Text = "  .."
        Home.TextColor3 = Color3.fromRGB(255, 255, 255)
        Home.TextSize = 16.000
        Home.TextXAlignment = Enum.TextXAlignment.Left
        
        ReturnImage.Name = "ReturnImage"
        ReturnImage.Parent = Home
        ReturnImage.BackgroundTransparency = 1
        ReturnImage.LayoutOrder = 10
        ReturnImage.AnchorPoint = Vector2.new(0.5, 0.5)
        ReturnImage.Position = UDim2.new(0.97, 0, 0.5, 0)
        ReturnImage.Rotation = 180
        ReturnImage.Size = UDim2.new(0, 25, 0, 25)
        ReturnImage.ZIndex = 2
        ReturnImage.Image = "rbxassetid://3926307971"
        ReturnImage.ImageRectOffset = Vector2.new(764, 244)
        ReturnImage.ImageRectSize = Vector2.new(36, 36)
        
        if danger then
            local warning = Instance.new("ImageButton")
                
            warning.Name = "warning"
            warning.Parent = TextButton
            warning.AnchorPoint = Vector2.new(0.5, 0.5)
            warning.BackgroundTransparency = 1
            warning.Position = UDim2.new(0.04, 0, 0.5, 0)
            warning.Size = UDim2.new(0, 25, 0, 25)
            warning.ZIndex = 2
            warning.Image = "rbxassetid://6764432408"
            warning.ImageRectOffset = Vector2.new(0, 900)
            warning.ImageRectSize = Vector2.new(50, 50)
        end

        Home.MouseEnter:Connect(function()
            Home.BackgroundTransparency = 0
        end)
        
        Home.MouseLeave:Connect(function()
            Home.BackgroundTransparency = 1
        end)
        
        TextButton.MouseButton1Click:Connect(function()
            for _,v in pairs(Window:GetChildren()) do
                if v:IsA("TextButton") then
                    v.Visible = false
                    Tab.Visible = true
                end
            end
        end)
        
        Home.MouseButton1Click:Connect(function()
            for _,v in pairs(Window:GetChildren()) do
                if v:IsA("TextButton") then
                    Tab.Visible = false
                    v.Visible = true
                end
            end
        end)
        
        local tabInnards = {}
        
        function tabInnards:Destroy()
            ModestLib:Destroy()
        end
        
        function tabInnards:NewButton(name, interaction, danger)
            local TextButton = Instance.new("TextButton")
    
            TextButton.Parent = Tab
            TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
            TextButton.BackgroundTransparency = 1.000
            TextButton.BorderSizePixel = 0
            TextButton.Size = UDim2.new(1, 0, 0.026, 0)
            TextButton.Font = Enum.Font.GothamSemibold
            if danger then
                TextButton.Text = "      "..name
            else
                TextButton.Text = "  "..name
            end
            TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            TextButton.TextSize = 16.000
            TextButton.TextXAlignment = Enum.TextXAlignment.Left
            
            
            if danger then
                local warning = Instance.new("ImageButton")
                    
                warning.Name = "warning"
                warning.Parent = TextButton
                warning.AnchorPoint = Vector2.new(0.5, 0.5)
                warning.BackgroundTransparency = 1
                warning.Position = UDim2.new(0.04, 0, 0.5, 0)
                warning.Size = UDim2.new(0, 25, 0, 25)
                warning.ZIndex = 2
                warning.Image = "rbxassetid://6764432408"
                warning.ImageRectOffset = Vector2.new(0, 900)
                warning.ImageRectSize = Vector2.new(50, 50)
            end
            
            TextButton.MouseButton1Click:Connect(interaction)
            
            TextButton.MouseEnter:Connect(function()
                TextButton.BackgroundTransparency = 0
            end)
            
            TextButton.MouseLeave:Connect(function()
                TextButton.BackgroundTransparency = 1
            end)
        end
        
        function tabInnards:NewToggle(name,state,interaction,danger)
            local TextButton = Instance.new("TextButton")
            local uncheck = Instance.new("ImageButton")
            local check = Instance.new("ImageButton")

            TextButton.Parent = Tab
            TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
            TextButton.BackgroundTransparency = 1.000
            TextButton.BorderSizePixel = 0
            TextButton.Size = UDim2.new(1, 0, 0.026, 0)
            TextButton.Font = Enum.Font.GothamSemibold
            if danger then
                TextButton.Text = "      "..name
            else
                TextButton.Text = "  "..name
            end
            TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            TextButton.TextSize = 16.000
            TextButton.TextXAlignment = Enum.TextXAlignment.Left
            
            uncheck.Name = "uncheck"
            uncheck.Parent = TextButton
            uncheck.AnchorPoint = Vector2.new(0.5, 0.5)
            uncheck.BackgroundTransparency = 1.000
            uncheck.LayoutOrder = 3
            uncheck.Position = UDim2.new(0.970000029, 0, 0.5, 0)
            uncheck.Size = UDim2.new(0, 22, 0, 22)
            uncheck.ZIndex = 2
            uncheck.Image = "rbxassetid://3926305904"
            uncheck.ImageRectOffset = Vector2.new(924, 724)
            uncheck.ImageRectSize = Vector2.new(36, 36)
            
            check.Name = "check"
            check.Parent = TextButton
            check.AnchorPoint = Vector2.new(0.5, 0.5)
            check.BackgroundTransparency = 1.000
            check.Position = UDim2.new(0.970000029, 0, 0.5, 0)
            check.Size = UDim2.new(0, 22, 0, 22)
            check.ZIndex = 2
            check.Image = "rbxassetid://3926305904"
            check.ImageRectOffset = Vector2.new(312, 4)
            check.ImageRectSize = Vector2.new(24, 24)
            
            if danger then
                local warning = Instance.new("ImageButton")
                    
                warning.Name = "warning"
                warning.Parent = TextButton
                warning.AnchorPoint = Vector2.new(0.5, 0.5)
                warning.BackgroundTransparency = 1
                warning.Position = UDim2.new(0.04, 0, 0.5, 0)
                warning.Size = UDim2.new(0, 25, 0, 25)
                warning.ZIndex = 2
                warning.Image = "rbxassetid://6764432408"
                warning.ImageRectOffset = Vector2.new(0, 900)
                warning.ImageRectSize = Vector2.new(50, 50)
            end
            
            if state then uncheck.Visible = false; check.Visible = true else uncheck.Visible = true; check.Visible = false end
            
            TextButton.MouseButton1Click:Connect(function()
                state = not state
                if state then 
                    uncheck.Visible = false; 
                    check.Visible = true
                else 
                    uncheck.Visible = true; 
                    check.Visible = false 
                end
    
                if state then
                    interaction(state)
                elseif not state then
                    interaction(state)
                end
            end)
            
            TextButton.MouseEnter:Connect(function()
                TextButton.BackgroundTransparency = 0
            end)
            
            TextButton.MouseLeave:Connect(function()
                TextButton.BackgroundTransparency = 1
            end)
        end
        
        function tabInnards:NewLabel(name,warning)
            local TextButton = Instance.new("TextButton")
    
            TextButton.Parent = Tab
            TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
            TextButton.BackgroundTransparency = 1.000
            TextButton.BorderSizePixel = 0
            TextButton.Size = UDim2.new(1, 0, 0.026, 0)
            TextButton.Font = Enum.Font.GothamSemibold
            TextButton.Text = name
            if warning then
                TextButton.TextColor3 = Color3.fromRGB(255, 143, 22)
            else
                TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            end
            TextButton.TextSize = 16.000
            TextButton.TextXAlignment = Enum.TextXAlignment.Center
        end
        
        function tabInnards:NewParagraph(name,height,fontSize,warning)
            local TextButton = Instance.new("TextButton")
    
            TextButton.Parent = Tab
            TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
            TextButton.BackgroundTransparency = 1.000
            TextButton.BorderSizePixel = 0
            TextButton.Size = UDim2.new(1, 0, height or 0.026, 0)
            TextButton.Font = Enum.Font.GothamSemibold
            TextButton.TextWrapped = true
            TextButton.Text = name
            if warning then
                TextButton.TextColor3 = Color3.fromRGB(255, 143, 22)
            else
                TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            end
            TextButton.TextSize = fontSize or 16
            TextButton.TextXAlignment = Enum.TextXAlignment.Center
        end
        
        function tabInnards:NewSelection(name, selections, default, interaction)
            local TextButton = Instance.new("TextButton")
            local Selection = Instance.new("TextButton")
            local right = Instance.new("ImageButton")
            local left = Instance.new("ImageButton")
            local UIListLayout = Instance.new("UIListLayout")
            local nobody = Instance.new("TextLabel")
            local selectionNum = 0;
            local curSelection = default
            
            for _,v in pairs(selections) do
                selectionNum = selectionNum + 1;
            end
            
    
            TextButton.Parent = Tab
            TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
            TextButton.BackgroundTransparency = 1.000
            TextButton.BorderSizePixel = 0
            TextButton.Size = UDim2.new(1, 0, 0.026, 0)
            TextButton.Font = Enum.Font.GothamSemibold
            if danger then
                TextButton.Text = "      "..name
            else
                TextButton.Text = "  "..name
            end
            TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            TextButton.TextSize = 16.000
            TextButton.TextXAlignment = Enum.TextXAlignment.Left
            
            right.Name = "right"
            right.Parent = TextButton
            right.AnchorPoint = Vector2.new(0.5, 0.5)
            right.BackgroundTransparency = 1.000
            right.LayoutOrder = 5
            right.Position = UDim2.new(0.97, 0, 0.5, 0)
            right.Size = UDim2.new(0, 25, 0, 25)
            right.ZIndex = 2
            right.Image = "rbxassetid://6764432408"
            right.ImageRectOffset = Vector2.new(100, 150)
            right.ImageRectSize = Vector2.new(50, 50)
            
            left.Name = "left"
            left.Parent = TextButton
            left.AnchorPoint = Vector2.new(0.5, 0.5)
            left.BackgroundTransparency = 1.000
            left.LayoutOrder = 5
            left.Position = UDim2.new(0.5, 0, 0.342726082, 0)
            left.Size = UDim2.new(0, 25, 0, 25)
            left.ZIndex = 2
            left.Image = "rbxassetid://6764432408"
            left.ImageRectOffset = Vector2.new(150, 300)
            left.ImageRectSize = Vector2.new(50, 50)
            
            nobody.Name = "nobody"
            nobody.Parent = TextButton
            nobody.AnchorPoint = Vector2.new(0.5, 0.5)
            nobody.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            nobody.BackgroundTransparency = 1.000
            nobody.BorderSizePixel = 0
            nobody.Position = UDim2.new(0.741645217, 0, 0.657273829, 0)
            nobody.Size = UDim2.new(0, 150, 0, 20)
            nobody.Font = Enum.Font.GothamSemibold
            nobody.Text = selections[curSelection] or "nil"
            nobody.TextColor3 = Color3.fromRGB(255, 255, 255)
            nobody.TextSize = 14.000
            nobody.TextYAlignment = Enum.TextYAlignment.Center
            
            UIListLayout.Parent = TextButton
            UIListLayout.FillDirection = Enum.FillDirection.Horizontal
            UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
            UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
    
            if danger then
                local warning = Instance.new("ImageButton")
                    
                warning.Name = "warning"
                warning.Parent = TextButton
                warning.AnchorPoint = Vector2.new(0.5, 0.5)
                warning.BackgroundTransparency = 1
                warning.Position = UDim2.new(0.04, 0, 0.5, 0)
                warning.Size = UDim2.new(0, 25, 0, 25)
                warning.ZIndex = 2
                warning.Image = "rbxassetid://6764432408"
                warning.ImageRectOffset = Vector2.new(0, 900)
                warning.ImageRectSize = Vector2.new(50, 50)
            end
            
            
            
            left.MouseButton1Click:Connect(function()
                curSelection = curSelection - 1
                if curSelection == 0 then
                    curSelection = selectionNum
                elseif curSelection == selectionNum then
                    curSelection = 1
                end
                
                nobody.Text = selections[curSelection]
                
                interaction(selections[curSelection],curSelection)
            end)
            
            right.MouseButton1Click:Connect(function()
                curSelection = curSelection + 1
                if curSelection == 0 then
                    curSelection = selectionNum
                elseif curSelection > selectionNum then
                    curSelection = 1
                end
                
                nobody.Text = selections[curSelection]
                
                interaction(selections[curSelection],curSelection)
            end)
        end
        
        function tabInnards:DestroyGuiButton()
            local TextButton = Instance.new("TextButton")
            local power = Instance.new("ImageButton")
    
            TextButton.Parent = Tab
            TextButton.AnchorPoint = Vector2.new(0.5, 0.5)
            TextButton.Position = UDim2.new(0.5, 0, 0.5, 0)
            TextButton.BackgroundColor3 = Color3.fromRGB(224,97,69)
            TextButton.BackgroundTransparency = 1.000
            TextButton.BorderSizePixel = 0
            TextButton.Size = UDim2.new(1, 0, 0.026, 0)
            TextButton.Font = Enum.Font.GothamSemibold
            TextButton.TextWrapped = true
            TextButton.Text = "        Destroy Gui"
            TextButton.TextColor3 = Color3.fromRGB(205, 105, 105)
            TextButton.TextSize = 16
            TextButton.TextXAlignment = Enum.TextXAlignment.Left
            
            power.Name = "power"
            power.Parent = TextButton
            power.AnchorPoint = Vector2.new(0.5, 0.5)
            power.BackgroundTransparency = 1.000
            power.Position = UDim2.new(0.04, 0, 0.5, 0)
            power.Size = UDim2.new(0, 25, 0, 25)
            power.ZIndex = 2
            power.Image = "rbxassetid://6764432408"
            power.ImageRectOffset = Vector2.new(100, 400)
            power.ImageRectSize = Vector2.new(50, 50)
            
            
            TextButton.MouseButton1Click:Connect(function()
                ModestLib:Destroy()
            end)
            
            TextButton.MouseEnter:Connect(function()
                TextButton.BackgroundTransparency = 0.7
            end)
            
            TextButton.MouseLeave:Connect(function()
                TextButton.BackgroundTransparency = 1
            end)
        end
        
        return tabInnards;
    end

    function innards:NewButton(name, interaction, danger)
        local TextButton = Instance.new("TextButton")

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        if danger then
            TextButton.Text = "      "..name
        else
            TextButton.Text = "  "..name
        end
        TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextButton.TextSize = 16.000
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        
        if danger then
            local warning = Instance.new("ImageButton")
                
            warning.Name = "warning"
            warning.Parent = TextButton
            warning.AnchorPoint = Vector2.new(0.5, 0.5)
            warning.BackgroundTransparency = 1
            warning.Position = UDim2.new(0.04, 0, 0.5, 0)
            warning.Size = UDim2.new(0, 25, 0, 25)
            warning.ZIndex = 2
            warning.Image = "rbxassetid://6764432408"
            warning.ImageRectOffset = Vector2.new(0, 900)
            warning.ImageRectSize = Vector2.new(50, 50)
        end
        
        TextButton.MouseButton1Click:Connect(interaction)
        
        TextButton.MouseEnter:Connect(function()
            TextButton.BackgroundTransparency = 0
        end)
        
        TextButton.MouseLeave:Connect(function()
            TextButton.BackgroundTransparency = 1
        end)
    end

    function innards:NewToggle(name,state,interaction,danger)
        local TextButton = Instance.new("TextButton")
        local uncheck = Instance.new("ImageButton")
        local check = Instance.new("ImageButton")

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        if danger then
            TextButton.Text = "      "..name
        else
            TextButton.Text = "  "..name
        end
        TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextButton.TextSize = 16.000
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        
        uncheck.Name = "uncheck"
        uncheck.Parent = TextButton
        uncheck.AnchorPoint = Vector2.new(0.5, 0.5)
        uncheck.BackgroundTransparency = 1.000
        uncheck.LayoutOrder = 3
        uncheck.Position = UDim2.new(0.970000029, 0, 0.5, 0)
        uncheck.Size = UDim2.new(0, 22, 0, 22)
        uncheck.ZIndex = 2
        uncheck.Image = "rbxassetid://3926305904"
        uncheck.ImageRectOffset = Vector2.new(924, 724)
        uncheck.ImageRectSize = Vector2.new(36, 36)
        
        check.Name = "check"
        check.Parent = TextButton
        check.AnchorPoint = Vector2.new(0.5, 0.5)
        check.BackgroundTransparency = 1.000
        check.Position = UDim2.new(0.970000029, 0, 0.5, 0)
        check.Size = UDim2.new(0, 22, 0, 22)
        check.ZIndex = 2
        check.Image = "rbxassetid://3926305904"
        check.ImageRectOffset = Vector2.new(312, 4)
        check.ImageRectSize = Vector2.new(24, 24)
        
        if danger then
            local warning = Instance.new("ImageButton")
                
            warning.Name = "warning"
            warning.Parent = TextButton
            warning.AnchorPoint = Vector2.new(0.5, 0.5)
            warning.BackgroundTransparency = 1
            warning.Position = UDim2.new(0.04, 0, 0.5, 0)
            warning.Size = UDim2.new(0, 25, 0, 25)
            warning.ZIndex = 2
            warning.Image = "rbxassetid://6764432408"
            warning.ImageRectOffset = Vector2.new(0, 900)
            warning.ImageRectSize = Vector2.new(50, 50)
        end
        
        if state then 
            uncheck.Visible = false; 
            check.Visible = true
        else 
            uncheck.Visible = true; 
            check.Visible = false 
        end
        
        TextButton.MouseButton1Click:Connect(function()
            state = not state
            if state then uncheck.Visible = false; check.Visible = true else uncheck.Visible = true; check.Visible = false end

            if state then
                interaction(state)
            elseif not state then
                interaction(state)
            end
        end)
        
        TextButton.MouseEnter:Connect(function()
            TextButton.BackgroundTransparency = 0
        end)
        
        TextButton.MouseLeave:Connect(function()
            TextButton.BackgroundTransparency = 1
        end)
    end

    function innards:NewSelection(name, selections, default, interaction)
        local TextButton = Instance.new("TextButton")
        local Selection = Instance.new("TextButton")
        local right = Instance.new("ImageButton")
        local left = Instance.new("ImageButton")
        local UIListLayout = Instance.new("UIListLayout")
        local nobody = Instance.new("TextLabel")
        local selectionNum = 0
        local curSelection = default
        
        for _,v in pairs(selections) do
            selectionNum = selectionNum + 1
        end
        

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        TextButton.Text = "  "..name
        TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextButton.TextSize = 16.000
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        
        right.Name = "right"
        right.Parent = TextButton
        right.AnchorPoint = Vector2.new(0.5, 0.5)
        right.BackgroundTransparency = 1.000
        right.LayoutOrder = 5
        right.Position = UDim2.new(0.97, 0, 0.5, 0)
        right.Size = UDim2.new(0, 25, 0, 25)
        right.ZIndex = 2
        right.Image = "rbxassetid://6764432408"
        right.ImageRectOffset = Vector2.new(100, 150)
        right.ImageRectSize = Vector2.new(50, 50)
        
        left.Name = "left"
        left.Parent = TextButton
        left.AnchorPoint = Vector2.new(0.5, 0.5)
        left.BackgroundTransparency = 1.000
        left.LayoutOrder = 5
        left.Position = UDim2.new(0.5, 0, 0.342726082, 0)
        left.Size = UDim2.new(0, 25, 0, 25)
        left.ZIndex = 2
        left.Image = "rbxassetid://6764432408"
        left.ImageRectOffset = Vector2.new(150, 300)
        left.ImageRectSize = Vector2.new(50, 50)
        
        nobody.Name = "nobody"
        nobody.Parent = TextButton
        nobody.AnchorPoint = Vector2.new(0.5, 0.5)
        nobody.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        nobody.BackgroundTransparency = 1.000
        nobody.BorderSizePixel = 0
        nobody.Position = UDim2.new(0.741645217, 0, 0.657273829, 0)
        nobody.Size = UDim2.new(0, 150, 0, 20)
        nobody.Font = Enum.Font.GothamSemibold
        nobody.Text = selections[curSelection] or "nil"
        nobody.TextColor3 = Color3.fromRGB(255, 255, 255)
        nobody.TextSize = 14.000
        nobody.TextYAlignment = Enum.TextYAlignment.Center
        
        UIListLayout.Parent = TextButton
        UIListLayout.FillDirection = Enum.FillDirection.Horizontal
        UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
        UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
        
        left.MouseButton1Click:Connect(function()
            curSelection = curSelection - 1
            if curSelection == 0 then
                curSelection = selectionNum
            elseif curSelection == selectionNum then
                curSelection = 1
            end
            
            nobody.Text = selections[curSelection]
            
            interaction(selections[curSelection],curSelection)
        end)
        
        right.MouseButton1Click:Connect(function()
            curSelection = curSelection + 1
            if curSelection == 0 then
                curSelection = selectionNum
            elseif curSelection > selectionNum then
                curSelection = 1
            end
            
            nobody.Text = selections[curSelection]
            
            interaction(selections[curSelection],curSelection)
        end)
    end
    
    function innards:NewValueSelection(name, minimum, maximum, countby,default, interaction)
        local TextButton = Instance.new("TextButton")
        local Selection = Instance.new("TextButton")
        local right = Instance.new("ImageButton")
        local left = Instance.new("ImageButton")
        local UIListLayout = Instance.new("UIListLayout")
        local nobody = Instance.new("TextLabel")
        local curSelection = default

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        TextButton.Text = "  "..name
        TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextButton.TextSize = 16.000
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        
        right.Name = "right"
        right.Parent = TextButton
        right.AnchorPoint = Vector2.new(0.5, 0.5)
        right.BackgroundTransparency = 1.000
        right.LayoutOrder = 5
        right.Position = UDim2.new(0.97, 0, 0.5, 0)
        right.Size = UDim2.new(0, 25, 0, 25)
        right.ZIndex = 2
        right.Image = "rbxassetid://6764432408"
        right.ImageRectOffset = Vector2.new(100, 150)
        right.ImageRectSize = Vector2.new(50, 50)
        
        left.Name = "left"
        left.Parent = TextButton
        left.AnchorPoint = Vector2.new(0.5, 0.5)
        left.BackgroundTransparency = 1.000
        left.LayoutOrder = 5
        left.Position = UDim2.new(0.5, 0, 0.342726082, 0)
        left.Size = UDim2.new(0, 25, 0, 25)
        left.ZIndex = 2
        left.Image = "rbxassetid://6764432408"
        left.ImageRectOffset = Vector2.new(150, 300)
        left.ImageRectSize = Vector2.new(50, 50)
        
        nobody.Name = "nobody"
        nobody.Parent = TextButton
        nobody.AnchorPoint = Vector2.new(0.5, 0.5)
        nobody.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        nobody.BackgroundTransparency = 1.000
        nobody.BorderSizePixel = 0
        nobody.Position = UDim2.new(0.741645217, 0, 0.657273829, 0)
        nobody.Size = UDim2.new(0, 150, 0, 20)
        nobody.Font = Enum.Font.GothamSemibold
        nobody.Text = default or "nil"
        nobody.TextColor3 = Color3.fromRGB(255, 255, 255)
        nobody.TextSize = 14.000
        nobody.TextYAlignment = Enum.TextYAlignment.Center
        
        UIListLayout.Parent = TextButton
        UIListLayout.FillDirection = Enum.FillDirection.Horizontal
        UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
        UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
        
        spawn(function()
            while wait(0.5) do
                if HeldLeft then
                    curSelection = curSelection - countby
                elseif HelfRight then
                    curSelection = curSelection + countby
                end
            end
        end)
        
        left.MouseButton1Click:Connect(function()

            local UserInputService = game:GetService("UserInputService")
            local HeldLeft = false
            
            UserInputService.InputBegan:Connect(function(inputObject)
            	if inputObject.UserInputType == Enum.UserInputType.MouseButton1 then
            		HeldLeft = true
            	end
            end)
            
            UserInputService.InputEnded:Connect(function(inputObject)
            	if inputObject.UserInputType == Enum.UserInputType.MouseButton1 then
            		HeldLeft = false
            	end
            end)
            
            --curSelection = curSelection - countby
            
            nobody.Text = curSelection
            
            interaction(curSelection)
        end)
        
        right.MouseButton1Click:Connect(function()
            local UserInputService = game:GetService("UserInputService")
            local HeldRight = false
            
            UserInputService.InputBegan:Connect(function(inputObject)
            	if inputObject.UserInputType == Enum.UserInputType.MouseButton1 then
            		HeldRight = true
            	end
            end)
            
            UserInputService.InputEnded:Connect(function(inputObject)
            	if inputObject.UserInputType == Enum.UserInputType.MouseButton1 then
            		HeldRight = false
            	end
            end)
            
            --curSelection = curSelection + countby
            
            nobody.Text = curSelection
            
            interaction(curSelection)
        end)
    end
    
    

    function innards:NewLabel(name,warning)
        local TextButton = Instance.new("TextButton")

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        TextButton.Text = name
        if warning then
            TextButton.TextColor3 = Color3.fromRGB(255, 143, 22)
        else
            TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
        TextButton.TextSize = 16.000
        TextButton.TextXAlignment = Enum.TextXAlignment.Center
    end

    function innards:NewParagraph(name,height,fontSize,warning)
        local TextButton = Instance.new("TextButton")

        TextButton.Parent = Window
        TextButton.BackgroundColor3 = Color3.fromRGB(224,197,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, height or 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        TextButton.TextWrapped = true
        TextButton.Text = name
        if warning then
            TextButton.TextColor3 = Color3.fromRGB(255, 143, 22)
        else
            TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
        TextButton.TextSize = fontSize or 16
        TextButton.TextXAlignment = Enum.TextXAlignment.Center
    end

    function innards:DestroyGuiButton()
        local TextButton = Instance.new("TextButton")
        local power = Instance.new("ImageButton")

        TextButton.Parent = Window
        TextButton.AnchorPoint = Vector2.new(0.5, 0.5)
        TextButton.Position = UDim2.new(0.5, 0, 0.5, 0)
        TextButton.BackgroundColor3 = Color3.fromRGB(224,97,69)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Size = UDim2.new(1, 0, 0.026, 0)
        TextButton.Font = Enum.Font.GothamSemibold
        TextButton.TextWrapped = true
        TextButton.Text = "        Destroy Gui"
        TextButton.TextColor3 = Color3.fromRGB(205, 105, 105)
        TextButton.TextSize = 16
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        
        power.Name = "power"
        power.Parent = TextButton
        power.AnchorPoint = Vector2.new(0.5, 0.5)
        power.BackgroundTransparency = 1.000
        power.Position = UDim2.new(0.04, 0, 0.5, 0)
        power.Size = UDim2.new(0, 25, 0, 25)
        power.ZIndex = 2
        power.Image = "rbxassetid://6764432408"
        power.ImageRectOffset = Vector2.new(100, 400)
        power.ImageRectSize = Vector2.new(50, 50)
        
        
        TextButton.MouseButton1Click:Connect(function()
            self:Destroy()
        end)
        
        TextButton.MouseEnter:Connect(function()
            TextButton.BackgroundTransparency = 0.7
        end)
        
        TextButton.MouseLeave:Connect(function()
            TextButton.BackgroundTransparency = 1
        end)
    end

    return innards;
end
return Library;
